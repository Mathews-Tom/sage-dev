---
description: Conventional commit standards and git workflow enforcement rules with strict AI attribution prohibition
---

# Git Commit Standards

## CRITICAL: AI Attribution Prohibition

**MANDATORY FOR ALL COMMITS:**

All commits MUST represent work by the developer ONLY. AI tools are development aids, not co-authors.

### Prohibited Patterns

**NEVER include any of these in commit messages:**

```plaintext
‚ùå ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
‚ùå ü§ñ Generated with Claude Code
‚ùå Co-Authored-By: Claude <noreply@anthropic.com>
‚ùå Co-authored-by: Claude <noreply@anthropic.com>
‚ùå AI-assisted commit
‚ùå Created with help from Claude
‚ùå Generated by AI
‚ùå With Claude Code
‚ùå Claude-generated
‚ùå Assisted by AI
```

### Rationale

1. **Legal**: Commits represent legal authorship and copyright claims
2. **Professional**: Git history is professional documentation
3. **Accurate**: Developer makes final decisions and is responsible for code
4. **Clean**: AI tools don't belong in version control history

### Enforcement

This rule is enforced at multiple levels:
- Command-level validation in `/sage.commit`
- Git commit-msg hook (auto-installed by sage-setup.sh)
- Pre-push validation

**Any commit containing AI attribution will be rejected or automatically stripped.**

---

## Conventional Commits Format

REQUIRED FORMAT:

```plaintext
<type>(<scope>): <subject>

<body>

<footer>
```

**Example:**

```plaintext
feat(auth): add OAuth2 login support

Implement OAuth2 authentication flow with Google and GitHub providers.
Users can now sign in using their existing accounts without creating
new credentials.

Closes #123
BREAKING CHANGE: Removed basic auth endpoint /api/login
```

---

## Commit Types

### Primary Types

| Type | Description | Changelog | Example |
|------|-------------|-----------|---------|
| `feat` | New feature | Yes | `feat(api): add user profile endpoint` |
| `fix` | Bug fix | Yes | `fix(auth): resolve session timeout issue` |
| `docs` | Documentation only | No | `docs(readme): update installation steps` |
| `style` | Code style (formatting, semicolons, etc.) | No | `style(lint): fix import ordering` |
| `refactor` | Code change that neither fixes bug nor adds feature | No | `refactor(db): simplify query logic` |
| `perf` | Performance improvement | Yes | `perf(search): optimize query indexing` |
| `test` | Adding or updating tests | No | `test(auth): add OAuth flow tests` |
| `build` | Build system or dependencies | No | `build(deps): upgrade Django to 4.2` |
| `ci` | CI/CD configuration | No | `ci(github): add automated testing workflow` |
| `chore` | Other changes (maintenance) | No | `chore(deps): update dev dependencies` |
| `revert` | Revert previous commit | Yes | `revert(feat): revert "add user profiles"` |

---

## Subject Line Rules

1. **Imperative mood**: Use "add" not "added" or "adds"
2. **No capitalization**: Start with lowercase
3. **No period**: Don't end with period
4. **Maximum 72 characters**: Keep subject concise
5. **Descriptive**: Clearly state what changed

---

## Commit Footer

### Breaking Changes

```plaintext
BREAKING CHANGE: <description>
```

### Issue References

```plaintext
Closes #123
Fixes #456
Resolves #789
Related to #123
```

### Co-authors (HUMAN ONLY)

**Only human collaborators may be listed as co-authors:**

```plaintext
Co-authored-by: Jane Doe <jane@example.com>
Co-authored-by: John Smith <john@example.com>
```

**NEVER list AI tools as co-authors.**

---

## Forbidden Practices

### ‚ùå DO NOT

- Vague commit messages: "fix stuff", "update code", "changes"
- Multiple unrelated changes in one commit
- Commit broken code
- Include secrets (API keys, passwords, tokens)
- Commit debug code (console.log, print statements)
- **Include AI attribution of any kind**

---

## Enforcement Rules

1. **Conventional format required** - type(scope): subject
2. **Imperative mood** - "add" not "added"
3. **No capitalization** - Lowercase subject
4. **Max 72 chars** - Subject line limit
5. **Descriptive subject** - Clear what changed
6. **Body for complex changes** - Explain what and why
7. **Reference issues** - Link tickets/issues
8. **Breaking changes noted** - BREAKING CHANGE: in footer
9. **Atomic commits** - One logical change per commit
10. **No broken code** - Tests must pass
11. **NO AI ATTRIBUTION** - Never include AI tool references
